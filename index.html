<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Your New Jekyll Site</title>
        <meta name="viewport" content="width=device-width">

        <!-- Custom CSS -->
        <link rel="stylesheet" href="/css/style.css"/>

        <!-- JS -->
        <script type="text/javascript" src="components/requirejs/require.js" data-main="/js/main"></script>
        <!-- script type="text/javascript" src="/js/pmain.js"></script-->

        <script type="text/x-emblem" id="fix">
        </script>

        <script type="text/x-emblem" id="event">

            if isNotEditing
                div class="row event"
                    div class="small-12 columns title"
                        == title
                div class="row event"
                    div class="small-12 columns time"
                        == when
                div class="row event"
                    div class="small-12 columns description"
                        = description
                div class="row event"
                    div class="small-12 columns people"
                        | People
                div class="row event"
                    div class="small-12 medium-9 medium-offset-3 columns avatar-column"
                        img.avatar src=publisher.user.avatarURL
                        = publisher.user.displayName 
                        |&nbsp;(Going)                     
                    each attendees                   
                        div class="small-12 medium-9 medium-offset-3 columns avatar-column"
                            img.avatar src=calendar.user.avatarURL
                            = calendar.user.displayName
                            |&nbsp;(#{hrStatus})

                if isAttendee                
                    div class="row event"
                        div class="small-12 medium-12 columns end status"
                            = radio-button id="attendingStatus1" name="attendingStatus" selectionBinding="attendingStatusSelected" value="2" 
                            label for="attendingStatus1" Attending
                            = radio-button id="attendingStatus2" name="attendingStatus" selectionBinding="attendingStatusSelected" value="3" 
                            label for="attendingStatus2" Maybe
                            = radio-button id="attendingStatus3" name="attendingStatus" selectionBinding="attendingStatusSelected" value="4" 
                            label for="attendingStatus3" No


                // div class="row event-controls"
                //     div class="col-md-4"
                //         button.btn.btn-default click="edit" Edit
                //         button.btn.btn-primary click="back" Back

            else
                = partial 'event/edit'

        </script>

        <script type="text/x-emblem" id="event/_edit">
            .row
                form.form-horizontal
                    .form-group
                        label.col-md-1.control-label Title
                        .col-md-5
                            = input class='form-control' type="text" value=title
                    .form-group
                        label.col-md-1.control-label Starts
                        .col-md-3
                            Ember.PickADate valueBinding="content.date" class="form-control" value=startDate
                        .col-md-2
                            Ember.PickATime valueBinding="content.date" class="form-control" value=startTime interval=5
                    .form-group
                        label.col-md-1.control-label Ends
                        .col-md-3
                            Ember.PickADate valueBinding="content.date" class="form-control" value=endDate
                        .col-md-2
                            Ember.PickATime valueBinding="content.date" class="form-control" value=endTime interval=5
                    .form-group
                        label.col-md-1.control-label Notes
                        .col-md-5   
                            = textarea class="form-control" rows="4" value=description

            .row.event-controls
                .col-md-3.col-md-offset-1
                    button.btn.btn-default click="onCancelClick" Cancel
                    button.btn.btn-success click="onUpdateClick" Update
        </script>

        <script type="text/x-emblem" id="events">
            div class="row"
                div class="col-md-4"
                    table class='table'
                        thead
                            tr
                                th
                                    |Title
                        each
                            tr
                                td 
                                    link-to 'event' this
                                        = title
            div class="row"
                div class="col-md-4"
                    = outlet
        </script>   

    </head>
    <body>
          <section id="ember"></section>

    </body>
</html>
